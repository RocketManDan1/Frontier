<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Earth–Luna Map</title>
    <link rel="stylesheet" href="/static/styles.css?v=layout27" />
  </head>

  <body class="mapPage">
    <div class="app">
      <div class="top panel">
        <div class="topbar">
          <div>
            <div class="title">Earth–Luna Transfers</div>
            <div class="subtitle">DB-driven locations + precomputed transfer costs</div>
          </div>

          <nav class="tabs">
            <a class="tab active" href="/">Map</a>
            <a class="tab" href="/fleet">Fleet</a>
            <a class="tab" href="/shipyard">Shipyard</a>
            <a class="tab" href="/research">Research</a>
            <a class="tab" href="/profile">Profile</a>
            <a class="tab authAdminTab" href="/admin">Admin</a>
          </nav>
        </div>
      </div>

      <div class="content">
        <aside class="mapDock panel" aria-label="Application dock">
          <button class="mapDockBtn" type="button" data-map-window="overview">Overview</button>
          <button class="mapDockBtn" type="button" data-map-window="info">Info</button>
          <button class="mapDockBtn" type="button" data-app-window="fleet">Fleet</button>
          <button class="mapDockBtn" type="button" data-app-window="shipyard">Shipyard</button>
          <button class="mapDockBtn" type="button" data-app-window="research">Research</button>
          <button class="mapDockBtn" type="button" data-app-window="profile">Profile</button>
          <button class="mapDockBtn authAdminTab" type="button" data-app-window="admin">Admin</button>
        </aside>

        <div id="overviewPanel" class="panel overview mapWindow" data-window-id="overview">
          <div class="mapWindowHeader" data-drag-handle="true">
            <div class="titleSmall">Map Overview</div>
          </div>
          <div id="mapOverview" class="mapOverview"></div>
          <div class="mapWindowResize" data-resize-handle="true" aria-hidden="true"></div>
        </div>

        <div id="stage" class="stage"></div>

        <div id="appWindowLayer" class="appWindowLayer" aria-live="polite"></div>

        <div id="infoPanel" class="panel info mapWindow" data-window-id="info">
          <div class="mapWindowHeader" data-drag-handle="true">
            <div class="titleSmall">Info Panel</div>
          </div>
          <div class="mapWindowBody">
            <div id="shipInfoTabsHost" class="shipInfoTabsHost"></div>
            <div id="infoTitle" class="titleSmall">Select a ship</div>
            <div id="infoSubtitle" class="muted"></div>
            <div id="infoCoords" class="muted small"></div>
            <ul id="infoList" class="infoList"></ul>
            <div id="realWorldRef" class="realWorldRef"></div>
            <div id="actions"></div>
          </div>
          <div class="mapWindowResize" data-resize-handle="true" aria-hidden="true"></div>
        </div>
      </div>

      <div id="zoneJumpBar" class="zoneJumpBar" aria-label="Heliocentric zone quick jump"></div>
    </div>

    <!-- Pixi: local first, CDN fallback -->
    <script
      src="/static/js/pixi.min.js"
      onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/npm/pixi.js@7/dist/pixi.min.js';">
    </script>

    <script src="/static/js/auth.js?v=au2"></script>
    <script src="/static/js/clock.js?v=ti3"></script>
    <script src="/static/js/app.js?v=ti53"></script>
    <script src="/static/js/item_display.js?v=id1"></script>
    <script src="/static/js/map_windows.js?v=wm27"></script>
  </body>
</html>
